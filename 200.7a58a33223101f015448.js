"use strict";(self.webpackChunkmystore_front=self.webpackChunkmystore_front||[]).push([[200],{2200:(y,a,n)=>{n.r(a),n.d(a,{ProductsModule:()=>v});var p=n(8583),u=n(7957),t=n(7716),l=n(6082),m=n(910),C=n(8632);function g(o,c){if(1&o){const r=t.EpF();t.TgZ(0,"div",7),t.TgZ(1,"h4",8),t._uU(2,"Adicionado ao carrinho"),t.qZA(),t.TgZ(3,"button",9),t.NdJ("click",function(){return t.CHM(r).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",10),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",11),t.TgZ(7,"p"),t._uU(8,"O produto "),t.TgZ(9,"strong"),t._uU(10),t.qZA(),t._uU(11," foi adicionado ao carrinho."),t.qZA(),t.qZA(),t.TgZ(12,"div",12),t.TgZ(13,"button",13),t.NdJ("click",function(){const i=t.CHM(r).$implicit;return t.oxw().redirectToCart(),i.close()}),t._uU(14,"Ir para carrinho"),t.qZA(),t.TgZ(15,"button",14),t.NdJ("click",function(){return t.CHM(r).$implicit.close()}),t._uU(16,"Fechar"),t.qZA(),t.qZA()}if(2&o){const r=t.oxw();t.xp6(10),t.Oqu(r.product.name)}}const _=function(o){return["/products",o]};let h=(()=>{class o{constructor(r,e){this.modalService=r,this.router=e,this.buy=new t.vpe}ngOnInit(){}addToCart(r){this.modalService.open(r,{ariaLabelledBy:"modal-basic-title"}),this.buy.emit()}redirectToCart(){this.router.navigate(["/cart"])}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(C.FF),t.Y36(u.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-card"]],inputs:{product:"product"},outputs:{buy:"buy"},decls:13,vars:6,consts:[[1,"product-card"],[1,"product-card-header"],[3,"routerLink"],[1,"product-card-body","text-truncate",2,"max-height","500px"],["content",""],[1,"product-card-footer"],[1,"btn","btn-primary",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(r,e){if(1&r){const d=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3),t.qZA(),t.TgZ(4,"h5"),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t._uU(7),t.qZA(),t.YNc(8,g,17,1,"ng-template",null,4,t.W1O),t.TgZ(10,"div",5),t.TgZ(11,"button",6),t.NdJ("click",function(){t.CHM(d);const s=t.MAs(9);return e.addToCart(s)}),t._uU(12,"Comprar"),t.qZA(),t.qZA(),t.qZA()}2&r&&(t.xp6(2),t.Q6J("routerLink",t.VKq(4,_,e.product.id)),t.xp6(1),t.Oqu(e.product.name),t.xp6(2),t.hij("R$ ",e.product.price.toFixed(2),""),t.xp6(2),t.hij(" ",e.product.desc," "))},directives:[u.rH],styles:[".product-card[_ngcontent-%COMP%]{padding:1.875rem;border-radius:.3125rem;background-color:#fff;box-shadow:0 .0625rem .1875rem #00000080}.product-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.product-card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:hover{cursor:pointer}.product-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:1rem}"]}),o})();function Z(o,c){if(1&o){const r=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"app-product-card",4),t.NdJ("buy",function(){const i=t.CHM(r).$implicit;return t.oxw().buy(i)}),t.qZA(),t.qZA()}if(2&o){const r=c.$implicit;t.xp6(1),t.Q6J("product",r)}}const f=[{path:"",component:(()=>{class o{constructor(r,e,d){this.productService=r,this.cartService=e,this.router=d,this.products=[],this.cartSize=0}ngOnInit(){this.productService.getProducts().subscribe(r=>{this.products=r,this.cartSize=this.cartService.getCartItems.length})}buy(r){let e={id:this.cartSize+1,quantity:1,user:JSON.parse(sessionStorage.getItem("customer")).id,product:r.id};this.cartService.addCartItem(e).subscribe(),this.cartService.getCartItems().subscribe()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(l.M),t.Y36(m.N),t.Y36(u.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],decls:3,vars:1,consts:[[1,"container"],[1,"row"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],[1,"col-4","product",3,"product","buy"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,Z,2,1,"div",2),t.qZA(),t.qZA()),2&r&&(t.xp6(2),t.Q6J("ngForOf",e.products))},directives:[p.sg,h],styles:[".container[_ngcontent-%COMP%]{min-height:100vh}.col-4[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{top:-5px}"]}),o})()}];let b=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(f)],u.Bz]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,b]]}),o})()}}]);